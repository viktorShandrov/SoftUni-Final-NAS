<app-loader *ngIf="isLoading"></app-loader>


<div class="header-wrapper">
  <app-header></app-header>
</div>
<div  class="wrapper">

  <div class="storageUsageInfoWrapper">
      <div class="segment">
        <div class="data">
          <div class="volume">{{transform(DashboardService.storageVolume)}}</div>
          <div class="measure">GB</div>
        </div>
        <label >Plan Storage Volume</label>
      </div>
      <div class="segment">
        <div class="data">
          <div class="volume">{{transform(DashboardService.usedStorage)}}</div>
          <div class="measure">GB</div>
        </div>
        <label >Used Storage</label>
      </div>
      <div class="segment">
        <div class="data">
          <div class="volume">{{transform(DashboardService.storageLeft)}}</div>
          <div class="measure">GB</div>
        </div>
        <label >Storage left</label>
      </div>
  </div>
<div class="chartsWrapper">

  <div class="foldersWithMostElementsInWrapper chart">
    <h5 class="title">Folders With Most Elements In</h5>
    <div class="topFoldersContainer">
      <div *ngFor="let folder of DashboardService.topFolders" class="folder">
        <img class="folderImage" src="assets/folder%20(1).png">
        <div class="info">
          <div class="nameAndCount">
            <h6 class="folderTitle">{{folder.name|trimChartElementName}}</h6>
            <span class="count">{{folder.count}}</span>
          </div>
          <div class="bar">
            <div #folderBar class="progress"></div>
          </div>
        </div>
      </div>

    </div>



  </div>
  <div class="mostCommonFileExtensionsWrapper chart">
    <h5 class="title">Most common file extensions</h5>
    <div class="topFoldersContainer">
      <div *ngFor="let ext of topExt" class="folder">
        <i *ngIf="!constants.fileExtensions.includes(ext.name)" class="fa-regular fa-file"></i>
        <img class="folderImage" *ngIf="constants.fileExtensions.includes(ext.name)"  src="assets/{{ext.name}}.png" alt="image ">
        <div class="info">
          <div class="nameAndCount">
            <h6 class="folderTitle">{{ext?.name|trimChartElementName}}</h6>
            <span class="count">{{ext?.count}}</span>
          </div>
          <div class="bar">
            <div #extBar class="progress"></div>
          </div>
        </div>
      </div>


    </div>

  </div>
</div>

<!--  <div class="storage-volume-info-wrapper">-->
<!--  <div #dashboardStorageProgressBar id="storage-progress-bar" role="progressbar" aria-valuenow="17" aria-valuemin="0" aria-valuemax="100"></div>-->
<!--    <div class="storage-volume-info">-->
<!--      <p>Plan storage volume: {{storageVolume}}GB</p>-->
<!--      <p>Used storage: {{usedStorage}}</p>-->
<!--      <p>Storage left: {{storageLeft}}GB</p>-->
<!--    </div>-->
<!--  </div>-->



<!--  <div class="charts">-->
<!--    <div class="chart-wrapper">-->

<!--      <div class="chart top-folders-chart">-->
<!--        <h4>Folders with most elements in</h4>-->
<!--        <div class="barsWrapper">-->
<!--          <div class="bar">-->
<!--            <div class="count">{{topFolders[0]?.count}}</div>-->
<!--            <div #folderBar class="progress-bar"></div>-->
<!--            <div class="name">{{topFolders[0]?.name|trimChartElementName}}</div>-->
<!--          </div>-->
<!--          <div class="bar">-->
<!--            <div class="count">{{topFolders[1]?.count}}</div>-->
<!--            <div #folderBar class="progress-bar"></div>-->
<!--            <div class="name">{{topFolders[1]?.name|trimChartElementName}}</div>-->
<!--          </div>-->
<!--          <div class="bar">-->
<!--            <div class="count">{{topFolders[2]?.count}}</div>-->
<!--            <div #folderBar class="progress-bar"></div>-->
<!--            <div class="name">{{topFolders[2]?.name|trimChartElementName}}</div>-->
<!--          </div>-->



<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--    <div class="chart-wrapper">-->
<!--      <div class="chart top-extensions-chart">-->
<!--        <h4>Common file extensions (includes deleted)</h4>-->
<!--        <div class="barsWrapper">-->
<!--          <div class="bar">-->
<!--            <div class="count">{{topExt[0]?.count}}</div>-->
<!--            <div #extBar class="progress-bar"></div>-->
<!--            <div class="name">{{topExt[0]?.name|trimChartElementName}}</div>-->
<!--          </div>-->
<!--          <div class="bar">-->
<!--            <div class="count">{{topExt[1]?.count}}</div>-->
<!--            <div #extBar class="progress-bar"></div>-->
<!--            <div class="name">{{topExt[1]?.name|trimChartElementName}}</div>-->
<!--          </div>-->
<!--          <div class="bar">-->
<!--            <div class="count">{{topExt[2]?.count}}</div>-->
<!--            <div #extBar class="progress-bar"></div>-->
<!--            <div class="name">{{topExt[2]?.name|trimChartElementName}}</div>-->
<!--          </div>-->



<!--        </div>-->
<!--      </div>-->
<!--      </div>-->
<!--  </div>-->
</div>

